<!DOCTYPE html>
<!-- Developers: Dela Cruz, Ysabel S. -->
<!--             Villar, Ron-Arvil B. -->

<html>
	<head>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Plant 8 | Settings</title>
	<link rel="shortcut icon" type="image/x-icon" href="images/content/favicon.ico">
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Rancho&amp;family=Merriweather+Sans:wght@300;400&amp;family=Montserrat:wght@400;600&amp;display=swap" rel="stylesheet">
	<link href="css/page.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script type="text/javascript" src="js/page-style.js"></script>
	<script type="text/javascript" src="js/location.js"></script>
</head>
<body>
	<div id="body-wrapper">
		<div id="promo-banner">
			<p id="promo-content">WE ONLY ACCEPT ORDERS IN METRO MANILA<a href="shop.html">Shop Now</a></p>
		</div>
		<header id="header-menu">
			<div class="bg"></div>
			<div id="left-item">
				<span id="nav-icon" style="color: white;">&#9776;</span>
				<a href="index.html"><img id="logo-container" src="images/content/logo2.png" alt="Plant 8"></a>
				<a id="logo-name" class="title-shadow" href="index.html">Plant 8</a>
			</div>
			<div id="center-item" class="sidebar small-side left-origin">
				<span id="left-close" class="close-icon">×</span>
				<ul id="page-navigation" class="navigation">
					<li><a href="index.html" class="nav-link shadow">HOME</a></li>
					<li><a href="shop.html" class="nav-link shadow">SHOP</a></li>
					<li><a href="about.html" class="nav-link shadow">ABOUT US</a></li>
				</ul>
			</div>
			<div id="right-item">
				<div id="right-sidebar" class="sidebar small-side right-origin">
					<span id="right-close" class="close-icon">×</span>
					<ul id="user-settings" class="navigation">
						<a href="orders.html"><li id="history">Orders</li></a>
						<a href="settings.html"><li id="settings">Settings</li></a>
						<a href="#"><li id="log-out">Log Out</li></a>
					</ul>
				</div>
				<div id="user-icon" class="icon">
					<img src="images/users/1.jpg" alt="Ysabel Dela Cruz">
				</div>
				<div>
					<img id="cart-icon" class="icon" src="images/cart.png" data-toggle="modal" data-target="#cart-modal" alt="Cart">
					<span id="cart-count">2</span>
				</div>
			</div>
			<div id="cart-modal" class="modal" style="display: none;" aria-hidden="true">
				<div class="modal-content">
					<div class="modal-body">
						<span class="X" data-dismiss="modal">&times;</span>
						<h2>Your Cart</h2>
						<hr class="horizontal">
						<div id="cart-empty" style="display: none;">
						<p>Oops. Looks like your cart is empty.</p>
						<button id="shop-redirect" class="redirect">Shop Now</button>
					</div>
					<div id="cart-items" style="display: block;">
						<div class="modal-field">
							<div>
								<input type="checkbox" id="select-all" class="ord-checkbox">
								<span class="checkmark cart-checkmark"></span>
							</div>
							<div>
								<button id="delete-cart" class="btn-red btn-disabled" data-cust_id="1"><i class="fa fa-trash"></i>Delete</button>
							</div>
						</div>
						<hr class="horizontal">
						<div id="ord-all">
							<div class="modal-field">
								<div class="ord-product">
									<input type="checkbox" class="ord-checkbox" data-cart_id="442">
									<span class="checkmark cart-checkmark"></span>
									<div class="ord-image">
										<img src="images/products/Broadleaf_Palm_Lily_with_Pot_-_Indoor_Plant/Broadleaf_Palm_Lily_with_Pot_-_Indoor_Plant.jpg">
									</div>
									<div class="ord-summary">
										<div class="ord-desc">
											<p class="ord-name">Broadleaf Palm Lily with Pot - Indoor Plant</p>
											<p class="ord-price">₱ 270.00</p>
											<div class="qty-set">
												<div class="qty-minus unselectable" data-cust_id="1" data-cart_id="442" data-prod_id="3" data-prod_price="270.00">-</div>
												<div class="qty-value">1</div>
												<div class="qty-add unselectable" data-maxqty="983" data-cart_id="442" data-prod_id="3" data-prod_price="270.00">+</div>
											</div>
											<div class="qty-avail">983 pieces left</div>
										</div>
										<p class="ord-sub-price">₱ 270.00</p>
									</div>
								</div>
								<hr class="horizontal">
							</div>
							<div class="modal-field">
								<div class="ord-product">
									<input type="checkbox" class="ord-checkbox" data-cart_id="441">
									<span class="checkmark cart-checkmark"></span>
									<div class="ord-image">
										<img src="images/products/San_Flores_Plant_with_pot_(Indoor_or_Outdoor)_Accent_Plant/San_Flores_Plant_with_pot_(Indoor_or_Outdoor)_Accent_Plant.jpg">
									</div>
									<div class="ord-summary">
										<div class="ord-desc">
											<p class="ord-name">San Flores Plant with pot (Indoor or Outdoor) Accent Plant</p>
											<p class="ord-price">₱ 350.00</p>
											<div class="qty-set">
												<div class="qty-minus unselectable" data-cust_id="1" data-cart_id="441" data-prod_id="1" data-prod_price="350.00">-</div>
												<div class="qty-value">1</div>
												<div class="qty-add unselectable" data-maxqty="941" data-cart_id="441" data-prod_id="1" data-prod_price="350.00">+</div>
											</div>
											<div class="qty-avail">941 pieces left</div>
										</div>
										<p class="ord-sub-price">₱ 350.00</p>
									</div>
								</div>
								<hr class="horizontal">
							</div>
						</div>
						<div id="modal-total" class="modal-field">
							<p><span id="ord-total-qty">2 items</span>, Total: ₱ <span id="ord-total-price">620.00</span></p>
						</div>
						<div id="checkout-field" class="modal-field">
							<button id="checkout-cart" class="btn-green btn-disabled"><i class="fa fa-shopping-basket"></i>Checkout</button>
						</div>
						<h4>You may like:</h4>
						<div id="cart-recommend">
							<a href="product.html?ID=2&amp;prod=sea+orache (indoor or outdoor plant)">
								<div class="recom-display">
									<div class="recom-image">
										<img src="images/products/Sea_Orache_(Indoor_or_Outdoor_Plant)/Sea_Orache_(Indoor_or_Outdoor_Plant).jpg">
									</div>
									<div class="recom-info">
										<div class="recom-name">
											<p>Sea Orache (Indoor or Outdoor Plant)</p>
										</div>
										<p class="recom-price">₱ 250.00</p>
									</div>
								</div>
							</a>
							<a href="product.html?ID=1&amp;prod=san+flores plant with pot (indoor or outdoor) accent plant">
								<div class="recom-display">
									<div class="recom-image">
										<img src="images/products/San_Flores_Plant_with_pot_(Indoor_or_Outdoor)_Accent_Plant/San_Flores_Plant_with_pot_(Indoor_or_Outdoor)_Accent_Plant.jpg">
									</div>
									<div class="recom-info">
										<div class="recom-name">
											<p>San Flores Plant with pot (Indoor or Outdoor) Accent Plant</p>
										</div>
										<p class="recom-price">₱ 350.00</p>
									</div>
								</div>
							</a>
							<a href="product.html?ID=49&amp;prod=2+pcs ceramic pots for your plants">
								<div class="recom-display">
									<div class="recom-image">
										<img src="images/products/2_pcs_Cermic_Pots_for_your_plants/2_pcs_Cermic_Pots_for_your_plants.jpg">
									</div>
									<div class="recom-info">
										<div class="recom-name">
											<p>2 pcs Ceramic Pots for your plants</p>
										</div>
										<p class="recom-price">₱ 250.00</p>
									</div>
								</div>
							</a>
							<a href="product.html?ID=59&amp;prod=fernwood+sanseviera - indoor plant">
								<div class="recom-display">
									<div class="recom-image">
										<img src="images/products/Fernwood_Sanseviera_-_Indoor_Plant/Fernwood_Sanseviera_-_Indoor_Plant.jpg"></div>
										<div class="recom-info">
											<div class="recom-name">
												<p>Fernwood Sanseviera - Indoor Plant</p>
											</div>
											<p class="recom-price">₱ 85.00</p>
										</div>
									</div>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div id="load-modal" class="modal" data-backdrop="static" data-keyboard="false">
				<div class="loader"></div>
			</div>
		</header>
		<div id="main" class="no-banner account-div">
			<div id="account-nav">
				<button id="profile_hash" class="nav-item nav-item-active">Profile</button>
				<button id="pass_hash" class="nav-item">Password</button>
				<button id="book_hash" class="nav-item">Address Book</button>
			</div>
			<div class="inner">
				<div id="info-div">
					<h2>ACCOUNT SETTINGS</h2>
					<div id="profile-container">
						<div id="dp-container">
							<img id="dp-current" src="images/users/1.jpg" alt="Ysabel Dela Cruz">
						</div>
						<div id="dp-btns">
							<div id="dp-init" class="dp-btn">
								<button id="dp-change" class="btn-green">Change Picture</button>
							</div>
							<div id="dp-options" class="dp-btn">
								<form id="inventory-form" method="post" enctype="multipart/form-data">
									<input type="file" name="dpImg" id="new-dp" accept="image/x-png, image/jpeg">
								</form>
								<button id="save-dp" class="btn-green">Save</button>
								<button id="cancel-dp" class="btn-default" data-cust_img="images/users/1.jpg">Cancel</button>
							</div>
						</div>
					</div>
					<button id="edit-active" class="btn-green"><i class="fa fa-edit fa-lg"></i>EDIT</button>
					<form id="edit-info" method="post">
						<div class="info-row">
							<span>Username:</span>
							<input type="text" id="info-username" name="username" placeholder="Username" maxlength="10" value="ysdelacruz" data-cust_user="ysdelacruz" readonly="" required="">
						</div>
						<div class="info-row info-container">
							<span class="info-info">(must be at least 5 characters)</span>
							<p id="error-user"></p>
						</div>
						<div class="info-row">
							<span>First Name:</span>
							<input type="text" id="info-fname" name="regiFname" placeholder="First Name" maxlength="50" value="Ysabel" data-cust_fname="Ysabel" readonly="" required="">
						</div>
						<div class="info-row">
							<span>Last Name:</span>
							<input type="text" id="info-lname" name="regiLname" placeholder="Last Name" maxlength="50" value="Dela Cruz" data-cust_lname="Dela Cruz" readonly="" required="">
						</div>
													<div class="info-row">
							<span>Contact No.:</span>
							<input type="text" id="info-contact" name="regiContact" placeholder="09999999999" maxlength="11" value="09123456789" data-contact_num="09123456789" readonly="" required="">
						</div>
						<div class="info-row">
							<span>Email Address:</span>
							<input type="email" id="info-email" name="regiEmail" placeholder="email@address.com" maxlength="50" value="delacruz.ysa@gmail.com" data-cust_email="delacruz.ysa@gmail.com" readonly="" required="">
						</div>
						<fieldset id="info-address">
							<legend>Home Address</legend>
							<div class="info-row">
								<span>City/Municipality:</span>
								<select id="city" name="city" data-home_city="Mandaluyong City" readonly="" required="">
									<option value="Mandaluyong City" selected="">Mandaluyong City</option>
								</select>
							</div>
							<div class="info-row">
								<span>House Number, Building, Street, Barangay:</span>
								<textarea id="info-home" name="regiHome" placeholder="House Number, Building, Street, Barangay" maxlength="100" rows="3" data-home_add="Adb Avenue Corner Julia Vargas Avenue Ortigas Center" readonly="">Adb Avenue Corner Julia Vargas Avenue Ortigas Center</textarea>
							</div>
							<div class="info-row">
								<span>ZIP Code:</span>
								<input type="text" id="info-zip" name="regiZip" placeholder="0000" maxlength="4" value="1605" data-home_zip="1605" readonly="" required="">
							</div>
						</fieldset>
					</form>
					<div id="info-btn" class="account-btn">
						<button id="info-cancel" class="btn btn-default">Cancel</button>
						<button id="info-save" class="btn btn-green" data-cust_id="1">Save</button>
					</div>
				</div>
				<div id="pass-div">
					<h2>CHANGE PASSWORD</h2>
					<form id="change-pass" method="post">
						<div class="change-row">
							<span>Current Password:</span>
							<input type="password" id="change-curpassword" name="curPassword" placeholder="●●●●●●●●" maxlength="16" required=""><i class="fa fa-eye show-pass"></i>
						</div>
						<div class="change-error">
							<p id="error-curenter">PASSWORD INCORRECT</p>
						</div>
						<div class="change-row">
							<span>Password:</span>
							<input type="password" id="change-password" name="password" placeholder="●●●●●●●●" maxlength="16" disabled="" required=""><i class="fa fa-eye show-pass"></i>
						</div>
						<div class="change-error">
							<span class="change-info change-li">
								<li>must be 8-16 characters</li>
								<li>contains upper- and lowercase letters, digits, and special characters</li>
							</span>
							<div id="bar-container">
								<div id="bar"></div>
							</div>
						</div>
						<div class="change-row">
							<span>Confirm Password:</span>
							<input type="password" id="change-repassword" name="rePassword" placeholder="●●●●●●●●" maxlength="16" disabled="" required=""><i class="fa fa-eye show-pass"></i>
						</div>
						<div class="change-error">
							<p id="error-reenter">PASSWORDS DID NOT MATCH</p>
						</div>
					</form>
					<div class="account-btn">
						<button id="change-update" class="btn btn-green" data-cust_id="1">Change</button>
					</div>
				</div>
				<div id="address-div">
					<h2>ADDRESS BOOK</h2>
					<div id="address-op">
						<button id="delete-deli" class="btn-red"><i class="fa fa-trash"></i><span>Delete</span></button>
						<button id="new-deli" class="btn-green"><i class="fa fa-plus-square-o"></i><span>New</span></button>
					</div>
					<div class="deli-container">
						<input type="checkbox" class="deli-checkbox" data-deli_id="1">
						<span class="checkmark deli-checkmark"></span>
						<button class="address-acc">Delivery Address 1</button>
					</div>
					<div class="deli-container">
						<div class="address-detail">
							<button class="btn-green deli-edit"><i class="fa fa-edit fa-lg"></i>EDIT</button>
							<form class="deli-add" method="post">
								<div class="info-row">
									<span>First Name:</span>
									<input type="text" class="deli-fname" name="regiFname" placeholder="First Name" maxlength="50" value="Ysabel" data-deli_fname="Ysabel" readonly="" required="">
								</div>
								<div class="info-row">
									<span>Last Name:</span>
									<input type="text" class="deli-lname" name="regiLname" placeholder="Last Name" maxlength="50" value="Dela Cruz" data-deli_lname="Dela Cruz" readonly="" required="">
								</div>
								<div class="info-row">
									<span>Contact No.:</span>
									<input type="text" class="deli-contact" name="regiContact" placeholder="09999999999" maxlength="11" value="09123456789" data-deli_contact="09123456789" readonly="" required="">
								</div>
								<fieldset class="info-address">
									<legend>Home Address</legend>
									<div class="info-row">
										<span>City/Municipality:</span>
										<select class="city select-read-only" name="city" data-deli_city="Mandaluyong City" readonly="" required="">
											<option value="Mandaluyong City" selected="">Mandaluyong City</option>
										</select>
									</div>
									<div class="info-row">
										<span>House Number, Building, Street, Barangay:</span>
										<textarea class="deli-home" name="regiHome" placeholder="House Number, Building, Street, Barangay" maxlength="100" rows="3" data-deli_add="Adb Avenue Corner Julia Vargas Avenue Ortigas Center" readonly="">Adb Avenue Corner Julia Vargas Avenue Ortigas Center</textarea>
									</div>
									<div class="info-row">
										<span>ZIP Code:</span>
										<input type="text" class="deli-zip" name="regiZip" placeholder="0000" maxlength="4" value="1605" data-deli_zip="1605" readonly="" required="">
									</div>
								</fieldset>
							</form>
							<div class="account-btn">
								<button class="btn btn-default deli-cancel">Cancel</button>
								<button class="btn btn-green deli-action" data-deli_id="1">Update</button>
							</div>
						</div>
					</div>
					<div id="delete-add-btn" class="account-btn">
						<button class="btn btn-default delete-cancel">Cancel</button>
						<button class="btn btn-red deli-action">Delete</button>
					</div>
					<span id="deli-info">* A maximum of three (3) delivery address is allowed.</span>
				</div>
			</div>
			<div id="scroll-top" style="display: none;">
				<span id="arrow-up">❮</span>
			</div>
		</div>
		<footer>
			<div class="row">
				<div id="product-categories" class="column">
					<h3>Product Categories</h3>
					<p><a href="shop.html#new-release" class="category-footer">New Release</a></p>
					<p><a href="shop.html#all" class="category-footer">All Products</a></p>
					<p><a href="shop.html#flowers-plants" class="category-footer">Flowers &amp; Plants</a></p>
					<p><a href="shop.html#pots-planters" class="category-footer">Pots &amp; Planters</a></p>
				</div>
				<div id="sns" class="column">
					<ul>
						<li>
							<a class="shop-links" href="https://www.facebook.com/Dplant8" target="_blank">
								<i class="fa fa-facebook-official fa-3x"></i>
							</a>
						</li>
						<li>
							<a class="shop-links" href="https://shopee.ph/plant8" target="_blank">
								<img src="images/content/shopee.png" alt="Shopee">
							</a>
						</li>
					</ul>
				</div>
				<div id="contact-footer" class="column">
					<h3>Contact Us</h3>
					<a id="message-us" href="about.html?loc=message-us">Message Us</a>
					<p><label>Email:</label><a id="email" href="mailto:daplant8@gmail.com">daplant8@gmail.com</a></p>
					<p>Quezon City, National Capital Region, Philippines 1100</p>
				</div>
			</div>
			<div class="row">
				<p>© 2021, <a href="index.html">Plant 8</a></p>
			</div>
		</footer>
	</div>
	<script type="text/javascript">
		let isNewClicked = false;
		let accData;

		$(document).on('click', '.nav-item', function(event) {
			event.preventDefault();
			$('.nav-item').removeClass('nav-item-active');
			$(this).addClass('nav-item-active');

			if($(this).html() == 'Profile') {
				$('#info-div').fadeIn();
				$('#pass-div').css('display', 'none');
				$('#address-div').css('display', 'none');
				window.location.hash = '#profile';
			} else if($(this).html() == 'Password') {
				$('#info-div').css('display', 'none');
				$('#pass-div').fadeIn();
				$('#address-div').css('display', 'none');
				window.location.hash = '#pass';
			} else if($(this).html() == 'Address Book') {
				$('#info-div').css('display', 'none');
				$('#pass-div').css('display', 'none');
				$('#address-div').fadeIn();
				window.location.hash = '#book';
			}
		});

		$(document).on('click', '#dp-change', function() {
			$('#dp-init').css('display', 'none');
			$('#dp-options').css('display', 'block');
			$('#new-dp').click();
		});

		$(document).on('click', '#edit-active', function() {
			$(this).css('display', 'none');
			$(this).siblings('#info-btn').css('display', 'block');

			$('#edit-info :input').each(function() {
				$(this).prev().addClass('req');
				$(this).removeAttr('readonly');
			});

			$('.info-container').css('display', 'flex');

			let NCR = listCity;
			$('#city').html('');

			// add options from array
			for(cityId in NCR) {
				let addCity = new Option(NCR[cityId], NCR[cityId]);
				$('#city').append(addCity);
			}
			$('#city').removeAttr('readonly');
			$('#city').css('background-color', 'white');
			$('#city').val($('#city').attr('data-Home_City'));
			accData = $('#edit-info').serializeArray();
		});

		$(document).on('click', '#info-cancel', function() {
			let execute = true;
			if(JSON.stringify(accData) !== JSON.stringify($('#edit-info').serializeArray()))
				execute = false;

			if(!execute)
				execute = confirm('Are you sure you want to cancel? All changes will not be saved.')

			if(execute)
				disableEditInfo();
		});

		$(document).on('click', '#delete-deli', function() {
			if(!$(this).hasClass('btn-disabled')) {
				$(this).attr('disabled', '');
				$(this).addClass('btn-disabled');
				$('#new-deli').attr('disabled', '');
				$('#new-deli').addClass('btn-disabled');
				$('#delete-add-btn').css('display', 'block');
				$('.deli-container > .checkmark').addClass('animate-deli');
				$('.address-acc').addClass('delete-active');
				$('.address-detail').addClass('delete-active');
				$('.deli-edit').css('display', 'none');
				$('#deli-info').html('There should be atleast one (1) remaining delivery address.');
				$('#deli-info').css('color', '#DB190B');

				if(isNewClicked) {
					isNewClicked = false;
					$('#address-div').children('.deli-container').last().remove();
					$('#address-div').children('.deli-container').last().remove();
				}
			}
		});

		$(document).on('click', '#new-deli', function() {
			if(!isNewClicked && !$(this).hasClass('btn-disabled')) {
				isNewClicked = true;
				newDeliAdd();
				$('#new-deli').attr('disabled', '');
				$('#new-deli').addClass('btn-disabled');
			}
		});

		$(document).on('click', '.delete-cancel', function() {
			$('#delete-deli').removeAttr('disabled');
			$('#delete-deli').removeClass('btn-disabled');
			if($('.address-acc').length < 3) {
				$('#new-deli').removeAttr('disabled');
				$('#new-deli').removeClass('btn-disabled');
			}

			$('#delete-add-btn').css('display', 'none');
			$('.deli-container > .checkmark').removeClass('animate-deli');
			$('.deli-container > .checkmark').prev().prop('checked', false);
			$('.address-acc').removeClass('delete-active');
			$('.address-detail').removeClass('delete-active');
			$('.deli-edit').css('display', 'block');
			$('#deli-info').html('* A maximum of three (3) delivery address is allowed.');
			$('#deli-info').css('color', 'black');
		});

		$(document).on('click', '.deli-edit', function() {
			$('#delete-deli').attr('disabled', '');
			$('#delete-deli').addClass('btn-disabled');
			$('#new-deli').removeAttr('disabled');
			$('#new-deli').removeClass('btn-disabled');
			$(this).css('display', 'none');
			$(this).siblings('.account-btn').css('display', 'block');

			$(this).siblings('form').find('input').each(function() {
				$(this).prev().addClass('req');
				$(this).removeAttr('readonly');
			});
			$(this).siblings('form').find('textarea').removeAttr('readonly');
			$(this).siblings('form').find('.select-read-only').css('background-color', 'white');

			let NCR = listCity;
			$(this).siblings('form').find('select').html('');

			// add options from array
			for(cityId in NCR) {
				let addCity = new Option(NCR[cityId], NCR[cityId]);
				$(this).siblings('form').find('select').append(addCity);
			}
			$(this).siblings('form').find('select').val($(this).siblings('form').find('select').attr('data-Deli_City'));
			accData = $(this).siblings('form').serializeArray();
		});

		$(document).on('click', '.deli-cancel', function() {
			let execute = true;
			if(JSON.stringify(accData) !== JSON.stringify($(this).parent().siblings('form').serializeArray()))
				execute = false;

			if(!execute)
				execute = confirm('Are you sure you want to cancel? All changes will not be saved.')

			if(execute) {
				disableEditAdd(this);
				$('#delete-deli').removeAttr('disabled');
				$('#delete-deli').removeClass('btn-disabled');
				if($('.address-acc').length < 3) {
					$('#new-deli').removeAttr('disabled');
					$('#new-deli').removeClass('btn-disabled');
				}
			}
		});

		$(document).on('click', '.address-acc', function() {
			$(this).toggleClass('address-active');

			let panel = this.parentElement.nextElementSibling.children[0];

			if(panel.style.maxHeight)
				panel.style.maxHeight = null;
			else
				panel.style.maxHeight = (panel.scrollHeight + 38) + 'px';
		});

		$(document).on('click', '.new-deli-cancel', function() {
			let execute = true;
			$(this).parent().siblings('form').find('input').each(function() {
				if($(this).val() !== ''){
					execute = false;
					return false;
				}
			});

			if($(this).parent().siblings('form').find('select').val() !== null)
				execute = false;

			if($(this).parent().siblings('form').find('textarea').val() !== '')
				execute = false;

			if(!execute)
				execute = confirm('Are you sure you want to cancel? All inputted data will not be saved.')

			if(execute) {
				$(this).parent().parent().parent().prev().remove();
				$(this).parent().parent().remove();
				$('#new-deli').removeAttr('disabled');
				$('#new-deli').removeClass('btn-disabled');
				isNewClicked = false;
			}
		});

		$('#info-username').keyup(function() {
			checkUser();
		});

		$('#info-username').change(function() {
			checkUser();
		});

		$('#change-curpassword').keyup(function() {
			checkCurpass();
		});

		$('#change-curpassword').change(function() {
			checkCurpass();
		});

		$('#change-password').keyup(function() {
			checkPass();
		});

		$('#change-password').change(function() {
			checkPass();
		});

		$('#change-repassword').keyup(function() {
			checkRepass();
		});

		$('#change-repassword').change(function() {
			checkRepass();
		});

		function newDeliAdd() {
			let container1 = document.createElement('div');
			$(container1).attr('class', 'deli-container');

			let btn1 = document.createElement('button');
			$(btn1).attr('class', 'address-acc');
			$(btn1).html('Delivery Address ' + ($('.address-acc').length + 1));

			$(container1).append(btn1);
			$(container1).insertBefore('#delete-add-btn');

			let fieldset = document.createElement('fieldset');
			$(fieldset).attr('class', 'info-address');
			let legend = document.createElement('legend');
			$(legend).html('Home Address');
			$(fieldset).append(legend);

			let deliLabel1 = document.createElement('span');
			$(deliLabel1).attr('class', 'req');
			$(deliLabel1).html('City/Municipality:');
			let deliCity = document.createElement('select');
			$(deliCity).attr({
				'class': 'city',
				'name': 'city',
				'required': ''
			});
			let NCR = listCity;

			let op = new Option('Select municipality/city...', '', false, true);
			$(op).attr({
				'disabled': '',
				'selected': ''
			});
			$(deliCity).append(op);

			for(cityId in NCR) {
				let addCity = new Option(NCR[cityId], NCR[cityId]);
				$(deliCity).append(addCity);
			}

			let row1 = document.createElement('div');
			$(row1).attr('class', 'info-row');
			$(row1).append(deliLabel1, deliCity);
			$(fieldset).append(row1);

			let deliLabel2 = document.createElement('span');
			$(deliLabel2).attr('class', 'req');
			$(deliLabel2).html('House Number, Building, Street, Barangay:');
			let deliArea = document.createElement('textarea');
			$(deliArea).attr({
				'class': 'deli-home',
				'name': 'regiHome',
				'placeholder': 'House Number, Building, Street, Barangay',
				'maxlength': '100',
				'rows': '3',
				'required': ''
			});

			let row2 = document.createElement('div');
			$(row2).attr('class', 'info-row');
			$(row2).append(deliLabel2, deliArea);
			$(fieldset).append(row2);

			let deliLabel3 = document.createElement('span');
			$(deliLabel3).attr('class', 'req');
			$(deliLabel3).html('ZIP Code:');
			let deliInput1 = document.createElement('input');
			$(deliInput1).attr({
				'type': 'text',
				'class': 'deli-zip',
				'name': 'regiZip',
				'placeholder': '0000',
				'maxlength': '4',
				'required': ''
			});

			let row3 = document.createElement('div');
			$(row3).attr('class', 'info-row');
			$(row3).append(deliLabel3, deliInput1);
			$(fieldset).append(row3);

			let form = document.createElement('form');
			$(form).attr({
				'class': 'deli-add',
				'method': 'post'
			});

			let deliLabel4 = document.createElement('span');
			$(deliLabel4).attr('class', 'req');
			$(deliLabel4).html('First Name:');
			let deliInput2 = document.createElement('input');
			$(deliInput2).attr({
				'type': 'text',
				'class': 'deli-fname',
				'name': 'regiFname',
				'placeholder': 'First Name',
				'maxlength': '50',
				'required': ''
			});

			let row4 = document.createElement('div');
			$(row4).attr('class', 'info-row');
			$(row4).append(deliLabel4, deliInput2);
			$(form).append(row4);

			let deliLabel5 = document.createElement('span');
			$(deliLabel5).attr('class', 'req');
			$(deliLabel5).html('Last Name:');
			let deliInput3 = document.createElement('input');
			$(deliInput3).attr({
				'type': 'text',
				'class': 'deli-lname',
				'name': 'regiLname',
				'placeholder': 'Last Name',
				'maxlength': '50',
				'required': ''
			});

			let row5 = document.createElement('div');
			$(row5).attr('class', 'info-row');
			$(row5).append(deliLabel5, deliInput3);
			$(form).append(row5);

			let deliLabel6 = document.createElement('span');
			$(deliLabel6).attr('class', 'req');
			$(deliLabel6).html('Contact No.:');
			let deliInput4 = document.createElement('input');
			$(deliInput4).attr({
				'type': 'text',
				'class': 'deli-contact',
				'name': 'regiContact',
				'placeholder': '09999999999',
				'maxlength': '11',
				'required': ''
			});

			let row6 = document.createElement('div');
			$(row6).attr('class', 'info-row');
			$(row6).append(deliLabel6, deliInput4);
			$(form).append(row6, fieldset);

			let detail = document.createElement('div');
			$(detail).attr('class', 'address-detail');
			$(detail).append(form);

			let accBtns = document.createElement('div');
			$(accBtns).attr('class', 'account-btn deli-new');

			let btn2 = document.createElement('button');
			$(btn2).attr('class', 'btn btn-default new-deli-cancel');
			$(btn2).html('Cancel');
			let btn3 = document.createElement('button');
			$(btn3).attr({
				'class': 'btn btn-green deli-action',
				'data-Cust_ID': '1'
			});
			$(btn3).html('Save');
			$(accBtns).append(btn2, btn3);
			$(detail).append(accBtns);

			let container2 = document.createElement('div');
			$(container2).attr('class', 'deli-container');
			$(container2).append(detail)
			$(container2).insertBefore('#delete-add-btn');

			$(btn1).click();
		}

		function checkUser() {
			let user = $('#info-username').val();
			if(user.length >= 5) {
				if($('#info-username').val() == $('#info-username').attr('data-Cust_User')) {
					$('#error-user').html('USERNAME AVAILABLE');
					$('#error-user').css({
						'color': '#27473A',
						'opacity': '1'
					});
					$('#info-username').removeClass('error-input');
				} else {
					$('#error-user').html('USERNAME AVAILABLE');
					$('#error-user').css({
						'color': '#27473A',
						'opacity': '1'
					});
					$('#info-username').removeClass('error-input');
				}
			} else {
				$('#error-user').html('TOO SHORT');
				$('#error-user').css({
					'color': '#DB190B',
					'opacity': '1'
				});
				$('#info-username').addClass('error-input');
			}
		}

		function checkCurpass() {
			let isCorrect = false;
			let inputPass = $('#change-curpassword').val();
			if(inputPass.length >= 8) {
				$('#change-curpassword').removeClass('error-input');
				$('#error-curenter').css('opacity', '0');
				$('#change-password').prop('disabled', false);
				isCorrect = true;
			}

			if(!isCorrect) {
				$('#change-curpassword').addClass('error-input');
				$('#error-curenter').css('opacity', '1');
				$('#change-password').val('');
				$('#change-password').prop('disabled', true);
				$('#change-repassword').val('');
				$('#change-repassword').prop('disabled', true);
			}
		}

		function checkPass() {
			$('#change-repassword').val('');
			$('#change-repassword').prop('disabled', !(strengthChecker($('#change-password').val()) > 1));
			switch(strengthChecker($('#change-password').val())) {
				case 0:
					$('#bar-container').prop('disabled', 'true');
					$('#bar').css('width', '0');
					$('#bar').html('');
					$('#change-password').addClass('error-input');
					break;
				case 1:
					$('#bar-container').prop('disabled', 'false');
					$('#bar').css({
						'width': '30%',
						'color': 'white',
						'background-color': '#DB190B'
					});
					$('#bar').html('WEAK');
					$('#change-password').addClass('error-input');
					break;
				case 2:
					$('#bar-container').prop('disabled', 'false');
					$('#bar').css({
						'width': '70%',
						'color': '#555',
						'background-color': '#F5F502'
					});
					$('#bar').html('MODERATE');
					$('#change-password').removeClass('error-input');
					break;
				case 3:
					$('#bar-container').prop('disabled', 'false');
					$('#bar').css({
						'width': '100%',
						'color': 'white',
						'background-color': '#27473A'
					});
					$('#bar').html('STRONG');
					$('#change-password').removeClass('error-input');
					break;
			}
		}

		function checkRepass() {
			if($('#change-repassword').val() == $('#change-password').val())
				$('#change-repassword').removeClass('error-input');
			else
				$('#change-repassword').addClass('error-input');
			
			$('#error-reenter').css('opacity', $('#change-repassword').val() == $('#change-password').val() ? '0' : '1');
		}

		// activate sticky header when page is scrolled
		window.onscroll = function() {
			activateSticky();
		}

		// remove shadow style if window width is lower than 901px
		window.onload = function() {
			activateSticky();
			if(!window.location.hash) {
				window.location.hash = '#profile';
			}

			let hash = window.location.hash;
			hash = hash.substring(1);

			$('.nav-item').each(function() {
				if($(this).attr('id') == hash + '_hash')
					$(this).click();
			})

			if($('.address-acc').length == 3) {
				$('#new-deli').attr('disabled', '');
				$('#new-deli').addClass('btn-disabled');
			}
		}
	</script>
	</body>
</html>